{% extends "baseTemplate/newBase.html" %}
{% load i18n %}
{% block titleNew %}{% trans "Home - CyberPanel" %}{% endblock %}
{% block newContent %}

    {% load static %}

    {% if BackupStat %}
        <div ng-controller="ScheduleV2BackupV2" class="p-8">
            <div class="flex lg:flex-row justify-between items-center sm:flex-col">
                <div class="flex items-center">
                    <p class="text-4xl font-bold">Schedule V2 Backup -</p>
                    <a target="_blank" href="http://go.cyberpanel.net/backup"
                       style="height: 23px;line-height: 21px;"
                       class="bg-blue-200 px-2 font-bold mt-2 ml-3"
                       title=""><span>{% trans "Backup Docs" %}</span></a>
                </div>
            </div>
            <p class="text-xs text-gray-600 py-2 font-semibold">This page can be used to schedule your backups.
            </p>
            <div class="flex items-center py-4">
                <p class="text-xl font-bold">Schedule v2 Backup</p>
                <img ng-hide="backupLoading"
                     src="{% static 'images/loading.gif' %}">
            </div>
            <hr>
            <div class="flex mt-4 py-2 px-6">
                <div>
                    <p class="font-semibold w-60">Select Website</p>
                </div>
                <div>
                    <select id="create-backup-select" ng-change="selectwebsite()" ng-model="selwebsite"
                            class="w-80 bg-gray-100 rounded px-2 py-1">
                        {% for items in websiteList %}
                            <option value="{{ items }}">{{ items }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="flex mt-4 py-2 px-6">
                <div>
                    <p class="font-semibold w-60">Backup Frequency</p>
                </div>
                <div>
                    <select id="create-backup-select" ng-model="frequency"
                            class="w-80 bg-gray-100 rounded px-2 py-1">
                        <option>30 Minutes</option>
                        <option>1 Hour</option>
                        <option>6 Hours</option>
                        <option>12 Hours</option>
                        <option>1 Day</option>
                        <option>3 Days</option>
                        <option>1 Week</option>
                    </select>
                </div>
            </div>
            <div class="flex mt-4 px-6">
                <div>
                    <p class="font-semibold w-60">Select Repo</p>
                </div>
                <div>
                    <select id="reposelectbox" ng-change="selectrepo()" ng-model="testhabbi"
                            class="w-80 bg-gray-100 rounded px-2 py-1">
                    </select>
                </div>
            </div>
            <div class="flex mt-4 px-6">
                <div>
                    <p class="font-semibold w-60">Backup Retention</p>
                </div>
                <div>
                    <select id="create-backup-select" ng-model="retention"
                            class="w-80 bg-gray-100 rounded px-2 py-1">
                        <option value="1">1 Day</option>
                        <option value="3">3 Days</option>
                        <option value="30">30 Days</option>
                    </select>
                </div>
            </div>
            <div class="flex mt-4 px-6">
                <div>
                    <p class="font-semibold w-60">Backup Content</p>
                </div>
                <div>
                    <label>
                        <input ng-model="websiteData" type="checkbox" value="">
                        Data
                    </label>
                </div>
            </div>
            <div class="flex px-6">
                <div>
                    <p class="font-semibold w-60"></p>
                </div>
                <div>
                    <div>
                        <label>
                            <input ng-model="websiteDatabases" type="checkbox" value="">
                            Databases
                        </label>
                    </div>
                </div>
            </div>
            <div class="flex px-6">
                <div>
                    <p class="font-semibold w-60"></p>
                </div>
                <div>
                    <div>
                        <label>
                            <input ng-model="websiteEmails" type="checkbox" value="">
                            Emails
                        </label>
                    </div>
                </div>
            </div>
            <div>
                <div class="flex justify-center mt-6 mb-2">
                    <button id="CreateV2BackupButton" ng-click="CreateScheduleV2()"
                            class="bg-orange-500 text-white font-bold px-4 py-2 text-xl">
                        Create Schedule
                    </button>
                </div>
            </div>
            <div class="relative py-5 overflow-x-auto">
                <table class="w-full text-sm text-left rtl:text-right">
                    <thead>
                    <tr class="bg-gray-200 mt-6 w-full rounded-t-lg border-b-2 border-gray-400">
                        <th scope="col" class="px-6 py-3">
                            Repo
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Frequency
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Retention
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Backup Websites?
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Backup Databases?
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Backup Emails?
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Last Run
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Delete
                        </th>
                    </tr>
                    </thead>
                    <tbody ng-repeat="record in records track by $index"
                           class="border shadow-lg py-3 px-6 rounded-b-lg">
                    <tr>
                        <td ng-bind="record.repo" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.frequency" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.retention" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.websiteData" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.websiteDatabases" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.websiteEmails" class="px-6 py-4">
                        </td>
                        <td ng-bind="record.lastRun" class="px-6 py-4">
                        </td>
                        <td class="px-6 py-4">
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    {% else %}
        <style>
            .feturecard {
                width: 30%;
                padding: 46px;
                margin: 15px
            }
        </style>
        <div class="container">
            <div id="page-title" align="center">
                <h1 style="color: black"><strong>Backups v2 - Incremental Backups! </strong></h1>
                <p style="font-size: 15px; color: black; margin-top: 1%">Is your website's data protection strategy up
                    to par? Are you tired of dealing with slow and unreliable backup solutions that don't offer the
                    level of robustness you need? <br><br>

                    Introducing CyberPanel's latest feature, Backups v2! With Backups v2, you can ensure that your
                    website's data is protected like never before. Our advanced incremental backup system utilizes
                    rclone, a powerful backup tool that supports over 30+ backends, including popular cloud storage
                    providers like Google Drive, Dropbox, Amazon S3, and more!<br><br>

                    Gone are the days of slow and cumbersome full backups. With Backups v2, you can take advantage of
                    incremental backups that only capture changes to your data, making the process lightning-fast and
                    highly efficient. This means you can save time and bandwidth while still maintaining the highest
                    level of data integrity.<br><br>

                    Whether you have a small blog or a large e-commerce website, Backups v2 is tailored to meet your
                    needs. With its robustness and versatility, you can have peace of mind knowing that your website's
                    data is backed up securely and can be easily restored whenever you need it.
                    <br></p>
            </div>
            <p align="center">
                <iframe width="788.54" height="443" src="https://www.youtube.com/embed/7dI1013xvUc"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
            </p>
            <div style="margin-top: 2%">
                <stripe-pricing-table pricing-table-id="prctbl_1MQtdYJMfY1fWGMszc4tx78j"
                                      publishable-key="pk_live_51ITXBmJMfY1fWGMs2G0LAydJweIDMp2WaYocM0xyzdn03WaHUbMw6uxfVuktAkgpRyUql7tz7gF5OwdccEZLd6Ot00XX6tGoZx">
                </stripe-pricing-table>
                <stripe-pricing-table pricing-table-id="prctbl_1LpSqSJMfY1fWGMsxSNhPLsc"
                                      publishable-key="pk_live_51ITXBmJMfY1fWGMs2G0LAydJweIDMp2WaYocM0xyzdn03WaHUbMw6uxfVuktAkgpRyUql7tz7gF5OwdccEZLd6Ot00XX6tGoZx">
                </stripe-pricing-table>
                <stripe-pricing-table pricing-table-id="prctbl_1M6WpCJMfY1fWGMsQXFlZWcW"
                                      publishable-key="pk_live_51ITXBmJMfY1fWGMs2G0LAydJweIDMp2WaYocM0xyzdn03WaHUbMw6uxfVuktAkgpRyUql7tz7gF5OwdccEZLd6Ot00XX6tGoZx">
                </stripe-pricing-table>
            </div>

        </div>
    {% endif %}
{% endblock %}
